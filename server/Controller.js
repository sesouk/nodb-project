let comics = [
    {
    id: 0,
    character: "Deadpool",
    title: "Despicable Deadpool (2017) #297",
    pageCount: '22 pages',
    price: "$3.99",
    cover: "http://i.annihil.us/u/prod/marvel/i/mg/f/10/5ab2ab7a25e9f.jpg",
    purchase: "https://comicstore.marvel.com/Despicable-Deadpool-2017-297/digital-comic/47555?r=1",
    purchased: 'No'
},
{
    id: 1,
    character: "Deadpool",
    title: "Deadpool Vs. The Punisher (Trade Paperback)",
    pageCount: '112 pages',
    price: "$10.87",
    cover: "http://i.annihil.us/u/prod/marvel/i/mg/a/50/599ddb88a80f4.jpg",
    purchase: "https://www.amazon.com/Deadpool-vs-Punisher-Marvel-Comics/dp/1302907484",
    purchased: 'No'
},
{
    id: 2,
    character: "Deadpool",
    title: "Spider-Man/Deadpool (2016) #29",
    pageCount: '21 pages',
    price: "$3.99",
    cover: "http://i.annihil.us/u/prod/marvel/i/mg/3/10/5aa064a593364.jpg",
    purchase: "https://comicstore.marvel.com/Spider-Man-Deadpool-2016-29/digital-comic/47565?r=1",
    purchased: 'No'
},
{
    id: 3,
    character: "Black Panther",
    title: "Rise of the Black Panther (2018) #3",
    pageCount: '24 pages',
    price: "$3.99",
    cover: "http://i.annihil.us/u/prod/marvel/i/mg/6/c0/5a972a36c457f.jpg",
    purchase: "https://comicstore.marvel.com/Rise-of-the-Black-Panther-2018-3-of-6/digital-comic/47481?r=1",
    purchased: 'No'
},
{
    id: 4,
    character: "Black Panther",
    title: "Black Panther: World of Wakanda (Trade Paperback)",
    pageCount: '160 pages',
    price: "$6.99",
    cover: "http://i.annihil.us/u/prod/marvel/i/mg/c/20/593b1cb23ce5f.jpg",
    purchase: "https://comicstore.marvel.com/Black-Panther-World-of-Wakanda/digital-comic/45028?r=1",
    purchased: 'No'
},
{    
    id: 5,
    character: "Black Panther",
    title: "Black Panther (2016) #170",
    pageCount: '27 pages',
    price: "$3.99",
    cover: "http://i.annihil.us/u/prod/marvel/i/mg/c/50/5a8de718d2af0.jpg",
    purchase: "https://comicstore.marvel.com/Black-Panther-2016-170/digital-comic/47321?r=1",
    purchased: 'No'
},
{
    id: 6,
    character: "Spider-Man",
    title: "Amazing Spider-Man: The Clone Conspiracy (Trade Paperback)",
    pageCount: '520 pages',
    price: "$12.99",
    cover: "http://i.annihil.us/u/prod/marvel/i/mg/9/e0/5a287e657f0ed.jpg",
    purchase: "https://comicstore.marvel.com/Amazing-Spider-Man-The-Clone-Conspiracy/digital-comic/44489?r=1",
    purchased: 'No'
},
{
    id: 7,
    character: "Spider-Man",
    title: "Peter Parker: The Spectacular Spider-Man (2017) #300",
    pageCount: '50 pages',
    price: "$5.99",
    cover: "http://i.annihil.us/u/prod/marvel/i/mg/9/70/5a8de8e7005d2.jpg",
    purchase: "https://comicstore.marvel.com/Peter-Parker-The-Spectacular-Spider-Man-2017-300/digital-comic/47343?r=1",
    purchased: 'No'
},
{
    id: 8,
    character: "Spider-Man",
    title: "The Amazing Spider-Man (2017) #32",
    pageCount: '22 pages',
    price: "$1.99",
    cover: "http://i.annihil.us/u/prod/marvel/i/mg/9/a0/59b04cda59f90.jpg",
    purchase: "https://comicstore.marvel.com/Amazing-Spider-Man-2015-32/digital-comic/45691?r=1",
    purchased: 'No '
},
{
    id: 9,
    character: "Iron Man",
    title: "Iron Man: Hong Kong Heroes (2018) #1",
    pageCount: '22 pages',
    price: "3.99",
    cover: "http://i.annihil.us/u/prod/marvel/i/mg/3/30/5aa958a232832.jpg",
    purchase: "https://comicstore.marvel.com/Iron-Man-Hong-Kong-Heroes-2018-1/digital-comic/47541?r=1",
    purchased: 'No'
},
{
    id: 10,
    character: "Iron Man",
    title: "International Iron Man (Trade Paperback)",
    pageCount: '160 pages',
    price: "$21.35",
    cover: "http://i.annihil.us/u/prod/marvel/i/mg/a/20/5984d7d3bf5a7.jpg",
    purchase: "https://www.amazon.com/International-Iron-Man-Vol-1/dp/1302901494",
    purchased: 'No'
},
{
    id: 11,
    character: "Iron Man",
    title: "Invincible Iron Man (2016) #597",
    pageCount: '19 pages',
    price: "$3.99",
    cover: "http://i.annihil.us/u/prod/marvel/i/mg/d/70/5a8de85ed6d87.jpg",
    purchase: "https://comicstore.marvel.com/Invincible-Iron-Man-2016-597/digital-comic/47336?r=1",
    purchased: 'No'
},
{
    id: 12,
    character: "Wolverine",
    title: "Generations: Wolverine & All-New Wolverine (2017) #1",
    pageCount: '33 pages',
    price: "$1.99",
    cover: "http://i.annihil.us/u/prod/marvel/i/mg/f/b0/597bbcadf2a97.jpg",
    purchase: "https://comicstore.marvel.com/Generations-Wolverine-All-New-Wolverine-2017-1/digital-comic/45471?r=1",
    purchased: 'No'
},
{
    id: 13,
    character: "Wolverine",
    title: "Wolverine by Claremont & Miller (Trade Paperback)",
    pageCount: '144 pages',
    price: "$18.30",
    cover: "http://i.annihil.us/u/prod/marvel/i/mg/6/50/58d97d2b532a0.jpg",
    purchase: "https://www.amazon.com/Wolverine-Claremont-Miller-Chris/dp/0785183833",
    purchased: 'No'
},
{
    id: 14,
    character: "Wolverine",
    title: "X-Men: Days of Future Past (Trade Paperback)",
    pageCount: '144 pages',
    price: "$16.92",
    cover: "http://i.annihil.us/u/prod/marvel/i/mg/9/d0/58b5cfb6d5239.jpg",
    purchase: "https://www.amazon.com/X-Men-Days-Future-Chris-Claremont/dp/0785164537",
    purchased: 'No'
},
{    
    id: 15,
    character: "Captain America",
    title: "Captain America: The Adventures of Captain America (Trade Paperback)",
    pageCount: '304 pages',
    price: "$22.34",
    cover: "http://i.annihil.us/u/prod/marvel/i/mg/9/50/5a8f2909ccb31.jpg",
    purchase: "https://www.amazon.com/Captain-America-Adventures/dp/1302910361",
    purchased: 'No'
},
{    
    id: 16,
    character: "Captain America",
    title: "Captain America (2017) #698",
    pageCount: '23 pages',
    price: "$3.99",
    cover: "http://i.annihil.us/u/prod/marvel/i/mg/9/f0/5a7b3d87d46d7.jpg",
    purchase: "https://comicstore.marvel.com/Captain-America-2017-698/digital-comic/47258?r=1",
    purchased: 'No'
},
{    
    id: 17,
    character: "Captain America",
    title: "Captain America: Steve Rogers (2016) #7",
    pageCount: '27 pages',
    price: "$1.99",
    cover: "http://i.annihil.us/u/prod/marvel/i/mg/3/50/58068970ca20c.jpg",
    purchase: "https://comicstore.marvel.com/Captain-America-Steve-Rogers-2016-2017-7/digital-comic/43190?r=1",
    purchased: 'No'
},
]

module.exports = {
    addComic: (req,res) => {
        const {id, character, title, pageCount, price, cover, purchase,purchased} = req.body;
        comics.push({
            id: comics.length + 1,
            character: character,
            title: title,
            pageCount: pageCount,
            price: price,
            cover: cover,
            purchase: purchase,
            purchased: purchased
        })
        res.status(200)
        .json(comics)
        // .catch(err => console.log(err));
    },
    read: (req,res) => {
        res.status(200)
        .json(comics);
    },
    filterComic: (req,res) => {
        
        const {character} = req.params;
        let list = comics.filter(e => {{character}
            if
            (e.character === character)
            {
                return e;
            }
            console.log(list);
    }); 
        res.status(200)
        .json(list);
    },
    editComic: (req,res) => {
       const editId = req.params.id;
       const comicEdit = comics.forEach((el,i) => {
           if
           (el.id == editId)
           {
               return comics[i].purchased = 'Yes';
           }
       })
        res.status(200)
        .json(comics);
    },
    deleteComic: (req,res) => {
    
        const deleteId = req.params.id;
        const comicDelete = comics.forEach((el,i) => {
            if
            (el.id == deleteId)
            {
                comics.splice(i, 1)
            }});
        res.status(200)
        .json(comics);
    }
}